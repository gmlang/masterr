<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>How to Work with Files in R and Improve Reproducibility &#8211; Become Great at R</title>
<meta name="description" content="When I first started learning R, I was taught to manually set or change the working directory1. I don’t like pointing and clicking, so I quickly learned to use setwd() to do the same thing. My work flow was: create a project folder → get its full path manually → pass it to setwd(). This was better but still didn’t completely eliminate clicking, copying and pasting. Later, someone showed me how to use file.path(), and I liked it immediately. It works like paste() but faster. Combined with Sys.getenv(), list.files() and dir.create(), it allows me to eliminate manual operations completely. Here’s what I mean, assuming under the home directory, you have a folder called “Projects” where you store all your R projects, open R studio and follow these steps to create a new project folder called “test.”


  
    
      A working directory is a folder where your current R session has access to. If you put a data file in your working directory, you only need to tell R its name to read it into R. You don’t have to tell R its full path. Similarly, if you output a file with just a filename and without specifying a full path, R will save it in your working directory. To see your default working directory, open a new R session and run the command getwd(). &#8617;
    
  

">
<meta name="keywords" content="">



<!-- Twitter Cards -->
<meta name="twitter:title" content="How to Work with Files in R and Improve Reproducibility">
<meta name="twitter:description" content="When I first started learning R, I was taught to manually set or change the working directory1. I don’t like pointing and clicking, so I quickly learned to use setwd() to do the same thing. My work flow was: create a project folder → get its full path manually → pass it to setwd(). This was better but still didn’t completely eliminate clicking, copying and pasting. Later, someone showed me how to use file.path(), and I liked it immediately. It works like paste() but faster. Combined with Sys.getenv(), list.files() and dir.create(), it allows me to eliminate manual operations completely. Here’s what I mean, assuming under the home directory, you have a folder called “Projects” where you store all your R projects, open R studio and follow these steps to create a new project folder called “test.”


  
    
      A working directory is a folder where your current R session has access to. If you put a data file in your working directory, you only need to tell R its name to read it into R. You don’t have to tell R its full path. Similarly, if you output a file with just a filename and without specifying a full path, R will save it in your working directory. To see your default working directory, open a new R session and run the command getwd(). &#8617;
    
  

">
<meta name="twitter:site" content="@gmlang">
<meta name="twitter:creator" content="@gmlang">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://gmlang.com/images/site-logo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="How to Work with Files in R and Improve Reproducibility">
<meta property="og:description" content="When I first started learning R, I was taught to manually set or change the working directory1. I don’t like pointing and clicking, so I quickly learned to use setwd() to do the same thing. My work flow was: create a project folder → get its full path manually → pass it to setwd(). This was better but still didn’t completely eliminate clicking, copying and pasting. Later, someone showed me how to use file.path(), and I liked it immediately. It works like paste() but faster. Combined with Sys.getenv(), list.files() and dir.create(), it allows me to eliminate manual operations completely. Here’s what I mean, assuming under the home directory, you have a folder called “Projects” where you store all your R projects, open R studio and follow these steps to create a new project folder called “test.”


  
    
      A working directory is a folder where your current R session has access to. If you put a data file in your working directory, you only need to tell R its name to read it into R. You don’t have to tell R its full path. Similarly, if you output a file with just a filename and without specifying a full path, R will save it in your working directory. To see your default working directory, open a new R session and run the command getwd(). &#8617;
    
  

">
<meta property="og:url" content="http://gmlang.com/r/how-to-work-with-files-in-r-and-improve-reproducibility/">
<meta property="og:site_name" content="Become Great at R">





<link rel="canonical" href="http://gmlang.com/r/how-to-work-with-files-in-r-and-improve-reproducibility/">
<link href="http://gmlang.com/feed.xml" type="application/atom+xml" rel="alternate" title="Become Great at R Feed">
<link rel="author" href="http://plus.google.com/+GuangmingLang?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://gmlang.com/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://gmlang.com/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://gmlang.com/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://gmlang.com/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://gmlang.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://gmlang.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://gmlang.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://gmlang.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://gmlang.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://gmlang.com/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="http://gmlang.com/about/" >About</a></li>
		  
		    
		        
		    
		    <li><a href="http://gmlang.com/da/" >Data Analysis</a></li>
		  
		    
		        
		    
		    <li><a href="http://gmlang.com/r/" >R</a></li>
		  
		    
		        
		    
		    <li><a href="http://gmlang.com/cartoon/" >Cartoon</a></li>
		  
        <li class="dosearch"><span><i class="fa fa-search"></i> Search</span></li>
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<div class="search-wrapper">
  <div class="search-form">
    <input type="text" class="search-field" placeholder="Search...">
    <button class="close-btn"><i class="fa fa-times-circle fa-2x"></i></button>
    <ul class="search-results post-list"></ul><!-- /.search-results -->
  </div><!-- /.search-form -->
</div><!-- ./search-wrapper -->

<header class="masthead">
	<div class="wrap">
        
    		<a href="http://gmlang.com" class="site-logo" rel="home" title="Become Great at R"><img src="http://gmlang.com/images/site-logo.png" width="200" height="200" alt="Become Great at R logo" class="animated fadeInUp"></a>
        
        <h1 class="site-title animated fadeIn"><a href="http://gmlang.com">Become Great at R</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description"></h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>

<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"></span>
        
          <h1 class="entry-title">How to Work with Files in R and Improve Reproducibility</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="http://gmlang.com/images/gmlang1.jpg" class="bio-photo" alt="Guangming Lang bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Guangming Lang</span></span>
        <span class="entry-date date published"><time datetime="2014-08-27T13:09:29-04:00"><i class="fa fa-calendar-o"></i> August 27, 2014</time></span>
        
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        <span class="social-share-twitter">
  <a href="https://twitter.com/intent/tweet?hashtags=&amp;text=How%20to%20Work%20with%20Files%20in%20R%20and%20Improve%20Reproducibility&amp;url=http://gmlang.com/r/how-to-work-with-files-in-r-and-improve-reproducibility/&amp;via=gmlang" title="Share on Twitter" itemprop="Twitter"><i class="fa fa-twitter-square"></i> Tweet</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http://gmlang.com/r/how-to-work-with-files-in-r-and-improve-reproducibility/" title="Share on Facebook" itemprop="Facebook"><i class="fa fa-facebook-square"></i> Like</a>
</span>
<span class="social-share-googleplus">
  <a href="https://plus.google.com/share?url=http://gmlang.com/r/how-to-work-with-files-in-r-and-improve-reproducibility/" title="Share on Google Plus" itemprop="GooglePlus"><i class="fa fa-google-plus-square"></i> +1</a>
</span>
<!-- /.social-share -->
        
      </footer>
      <div class="entry-content">
        <p>When I first started learning R, I was taught to manually set or change the working directory<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. I don’t like pointing and clicking, so I quickly learned to use <code>setwd()</code> to do the same thing. My work flow was: create a project folder → get its full path manually → pass it to <code>setwd()</code>. This was better but still didn’t completely eliminate clicking, copying and pasting. Later, someone showed me how to use <code>file.path()</code>, and I liked it immediately. It works like <code>paste()</code> but faster. Combined with <code>Sys.getenv()</code>, <code>list.files()</code> and <code>dir.create()</code>, it allows me to eliminate manual operations completely. Here’s what I mean, assuming under the home directory, you have a folder called “Projects” where you store all your R projects, open <a href="http://www.rstudio.com">R studio</a> and follow these steps to create a new project folder called “test.”</p>

<p>Step 1. Get the path to your home directory and print all its subfolders. Look for “Projects” to confirm it’s there.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">home.path <span class="o">=</span> <span class="kp">Sys.getenv</span><span class="p">(</span><span class="s">&quot;HOME&quot;</span><span class="p">)</span>
<span class="kp">list.files</span><span class="p">(</span>home.path<span class="p">)</span></code></pre></div>

<p>Step 2. Get the path to the “Projects” directory and create a folder called “test” inside “Projects.”</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">proj_path <span class="o">=</span> <span class="kp">file.path</span><span class="p">(</span>home.path<span class="p">,</span> <span class="s">&quot;Projects&quot;</span><span class="p">)</span>
<span class="kp">dir.create</span><span class="p">(</span><span class="kp">file.path</span><span class="p">(</span>proj_path<span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">),</span> showWarnings <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span></code></pre></div>

<p>Step 3. Print all subfolders under “Project” and look for “test” to confirm it’s there. Get the path to the “test” directory.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">list.files</span><span class="p">(</span>proj_path<span class="p">)</span>
test_path <span class="o">=</span> <span class="kp">file.path</span><span class="p">(</span>proj_path<span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">)</span></code></pre></div>

<p>You now have a new project folder called “test.” Download or place input data files into “test.” Say one of the input files is called “input.csv,” you can use the following code to read it into R.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">input_path <span class="o">=</span> <span class="kp">file.path</span><span class="p">(</span>test_path<span class="p">,</span> <span class="s">&quot;input.csv&quot;</span><span class="p">)</span>
input <span class="o">=</span> read.csv<span class="p">(</span>input_path<span class="p">)</span></code></pre></div>

<p>Notice that we never changed the working directory during these steps. In fact, if you run <code>getwd()</code> now, you’ll see it returns the default working directory. Indeed, we can always work in the default working directory and there’s no need to change it. We just need to get the input data from where they are and save the output data to where we want them to be. Four functions allow us to do that, namely, <code>Sys.getenv()</code>, <code>file.path()</code>, <code>list.files()</code>, and <code>dir.create()</code>. Use them and they’ll make your work flow neater. </p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>A working directory is a folder where your current R session has access to. If you put a data file in your working directory, you only need to tell R its name to read it into R. You don’t have to tell R its full path. Similarly, if you output a file with just a filename and without specifying a full path, R will save it in your working directory. To see your default working directory, open a new R session and run the command <code>getwd()</code>. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        <div id="disqus_thread"></div><!-- /#disqus_thread -->
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://gmlang.com/r/how-to-handle-large-datasets-in-r-part-2/" class="btn" title="How to Handle Large Datasets in R - Part 2">Previous</a>
      
      
        <a href="http://gmlang.com/r/how-to-cache-a-matrix-inversion-in-r/" class="btn" title="How to Cache a Matrix Inversion in R">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2014 Guangming Lang. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="http://twitter.com/gmlang" title="Guangming Lang on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	
	<a href="http://plus.google.com/+GuangmingLang" title="Guangming Lang on Google+" target="_blank"><i class="fa fa-google-plus-square fa-2x"></i></a>
	<a href="http://linkedin.com/in/gmlang" title="Guangming Lang on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	
	
	
	<a href="http://github.com/gmlang" title="Guangming Lang on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  <a href="http://gmlang.com/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://gmlang.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://gmlang.com/assets/js/scripts.min.js"></script>

<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').jekyllSearch({
          jsonFile: 'http://gmlang.com/search.json',
          searchResults: '.search-results',
          template: '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          fuzzy: true,
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {
    
     var bs = {
          close: $(".close-btn"),
          searchform: $(".search-form"),
          canvas: $(".js-menu-screen"),
          dothis: $('.dosearch')
      };
    
    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      $('body').toggleClass('no-scroll');
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('is-visible');
    });
    
      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        $('body').toggleClass('no-scroll');
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('is-visible');
    });
  })( jQuery, window );
</script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-52975110-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'cabaceo'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



<!-- Mathjax -->
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>	        

</body>
</html>
