<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>RFP - Part 7: Well-behaved R Functions | Become Great at R</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="RFP - Part 7: Well-behaved R Functions" />
<meta name="author" content="Guangming Lang" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Function is a big topic in R programming. I’ll spend several blog posts talking about it. But before I dive into R functions with full force, I want to show you how nice it is to work with them. Consider the following code:" />
<meta property="og:description" content="Function is a big topic in R programming. I’ll spend several blog posts talking about it. But before I dive into R functions with full force, I want to show you how nice it is to work with them. Consider the following code:" />
<link rel="canonical" href="http://localhost:4000/r/RFP-part7-functions00/" />
<meta property="og:url" content="http://localhost:4000/r/RFP-part7-functions00/" />
<meta property="og:site_name" content="Become Great at R" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-25T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="RFP - Part 7: Well-behaved R Functions" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@Guangming Lang" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Guangming Lang"},"dateModified":"2019-03-25T00:00:00+09:00","datePublished":"2019-03-25T00:00:00+09:00","description":"Function is a big topic in R programming. I’ll spend several blog posts talking about it. But before I dive into R functions with full force, I want to show you how nice it is to work with them. Consider the following code:","headline":"RFP - Part 7: Well-behaved R Functions","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/r/RFP-part7-functions00/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/site-logo.png"},"name":"Guangming Lang"},"url":"http://localhost:4000/r/RFP-part7-functions00/"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/skins/default.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="Become Great at R" href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  rfp-part-7-well-behaved-r-functions">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/about/">About</a></li><li><a href="/r/">R</a></li><li><a href="/da/">Data Analysis</a></li><li><a href="/books/">Books</a></li><li><a href="/apps/">Apps</a></li><li><a href="/cartoon/">Cartoon</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Become Great at R">
        <img src="/images/site-logo.png" class="site-logo-img animated fadeInDown" alt="Become Great at R">
      </a>
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">Become Great at R</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">Master the R programming language</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">RFP - Part 7: Well-behaved R Functions
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info"><div class="author-name">
        <em>by</em> <span class="p-name">Guangming Lang</span>
      </div><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href="https://cabaceo.com/"><i class="fas fa-link fa-lg" title="Data Scientist"></i></a>
          </li></ul>

<span class="read-time">2 min read</span>

    <time class="page-date dt-published" datetime="2019-03-25T00:00:00+09:00"><a class="u-url" href="">March 25, 2019</a>
</time>

  </div>
</div>
<div class="google-ads" style="margin-top:40px; text-align:center;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- 160x600 ad -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client=""
       data-ad-slot=""></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div><!-- /.google-ads --> <!-- /.google-ads -->
        
  <h3 class="page-taxonomies-title">Categories</h3>
  
  <ul class="page-taxonomies"><li class="page-taxonomy">r</li>
  </ul>


        

      </div>

      <div class="page-content">
        <div class="e-content">
          <p>Function is a big topic in R programming. I’ll spend several blog posts talking 
about it. But before I dive into R functions with full force, I want to show you 
how nice it is to work with them. Consider the following code:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1"># Bind x to 1 in the global environment.</span><span class="w">
</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="c1"># Define a function to tell what value x maps to when we call it later.</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="c1"># Rebind x to 2 in the global environment.</span><span class="w">
</span><span class="c1"># ls(envir = globalenv()) # Check that x and f are indeed in the global environment.</span></code></pre></figure>

<p>When we call <code class="language-plaintext highlighter-rouge">f</code>, what will it return? Mathematically and intuitively, we’d expect 
<code class="language-plaintext highlighter-rouge">f</code> to return <code class="language-plaintext highlighter-rouge">2</code> because x has a value of 2 now (although it had a value of 1 before). 
If x takes a different value later, we’d expect <code class="language-plaintext highlighter-rouge">f</code> to return the new value when 
called later. In other words, we expect <code class="language-plaintext highlighter-rouge">f</code>, when called, to return the current 
x value. This is exactly what <code class="language-plaintext highlighter-rouge">f</code> does in R:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">f</span><span class="p">()</span><span class="w">   </span><span class="c1"># Calling f returns 2 because x is 2</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 2</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="c1"># Rebind x to 3</span><span class="w">
</span><span class="n">f</span><span class="p">()</span><span class="w">   </span><span class="c1"># Calling f returns 3 because x is 3 now</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 3</code></pre></figure>

<p>So R evaluation rules<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>, by and large, mimic mathematical or intuitive reasonings 
pretty well. As a result, we often don’t come across surprises when coding in R. 
Don’t take this for granted. Not every programming language behave this way. For 
example, if you try to do the same thing in SML, you’ll be surprised by 
what you get. See the following SML code with detailed comments:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val x = 1; (* Create an environment, and inside this environment, x is bound to 1.*)
fun f () = x; (* Define a function that when we call it later, it tells us what value x is bound to. *)
val x = 2; (* Create a different environment, and inside this new environment, x is bound to 2. *)
x; (* The later binding for x shadows the earlier one, so calling x returns 2. *)
f(); (* Calling f returns 1, NOT 2! This has to do with SML's evaluation rule. *)
</code></pre></div></div>

<p>In SML, how a binding is evaluated depends on (roughly) the values of the 
<strong>preceding</strong> bindings. Prior to the function binding (i.e., when <code class="language-plaintext highlighter-rouge">f</code> is defined), 
<code class="language-plaintext highlighter-rouge">x</code> was bound to 1, so evaluating the function binding (i.e., calling <code class="language-plaintext highlighter-rouge">f</code>) 
returns 1 not 2. In other words, in SML, <code class="language-plaintext highlighter-rouge">f</code> always returns the last value x was
bound to before <code class="language-plaintext highlighter-rouge">f</code> was defined.</p>

<p>Let’s all take a moment to appreciate the nice behavior of R functions.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>Read this <a href="https://masterr.org/r/understand-r-environments-part1/">article</a> to understand exactly how code are evaluted in R. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

        </div>

        
          <div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fr%2FRFP-part7-functions00%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=RFP+-+Part+7%3A+Well-behaved+R+Functions%20http%3A%2F%2Flocalhost%3A4000%2Fr%2FRFP-part7-functions00%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fr%2FRFP-part7-functions00%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=RFP+-+Part+7%3A+Well-behaved+R+Functions&url=http%3A%2F%2Flocalhost%3A4000%2Fr%2FRFP-part7-functions00%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>

        

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/r/RFP-part6/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> RFP - Part 6: R «- Assignment Operator

      </span>
    </a>
  

  
    <a class="page-next" href="/r/RFP-part8-functions01/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        RFP - Part 8: R Functions
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <div class="google-ads" style="margin:10px 0;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- 320x50 ad -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:320px;height:50px"
       data-ad-client=""
       data-ad-slot=""></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div><!-- /.google-ads --> <!-- /.google-ads -->
<footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div><div class="copyright">
    
      <p>&copy; 2022 Become Great at R. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


<!-- MathJax -->

<script>
// http://docs.mathjax.org/en/latest/upgrading/v2.html
MathJax = {
  tex: {
      tags: "ams"    // eq numbering options: none, ams, all
  },
  options: {
    renderActions: {
      // for mathjax 3, handle <script "math/tex"> blocks inserted by kramdown
      find: [10, function (doc) {
        for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
          const display = !!node.type.match(/; *mode=display/);
          const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
          const text = document.createTextNode('');
          node.parentNode.replaceChild(text, node);
          math.start = {node: text, delim: '', n: 0};
          math.end = {node: text, delim: '', n: 0};
          doc.math.push(math);
        }
      }, '']
    }
  }
}
</script>

<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  </body>

</html>
