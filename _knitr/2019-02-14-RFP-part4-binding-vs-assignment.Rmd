---
layout: post
title: "RFP - Part3: Immutability in R"
date: 2019-02-13
comments: true
categories: r
keywords: "R, RFP series, functional programming in R, binding vs. mutability, immutability in R, R variables are immutable, R values are immutable, base R objects are immutable"
published: true
share: true
ads: true
---

R data structures are called objects. We've already discussed two types of R objects: [vectors](https://masterr.org/r/RFP-part1-vectors/) and [lists](https://masterr.org/r/RFP-part2-lists/). There's 


# Variables are objects


In R, symbols are objects. 

Base R doesn't have mutable objects.

The assignment operator associates symbols with objects.

These three words: "variable", "symbol" and "name" can be used interchangeably.

Variable assignment and name binding are not two different mechanisms. Variable assignment is really just name binding. Therefore all of the following are correct:

- assign a value to a name
- assign a value to a variable
- bind a name to a value
- bind a variable to a value


Given a variable `x`, we can use `pryr::address(x)` to find the memory location of the object `x` points to, or simply the memory location of `x`.

```{r}
x = 1 # bind the symbol x to a value 1
y = x # bind the symbol y to the same value 1
identical(pryr::address(x), pryr::address(y)) # the memory location of the value that x points to is the same as the one that y points to, indicating x and y point to the same value.
```


```{r}
x = 1 # bind x to 1
y = 1 # bind y to another 1
identical(pryr::address(x), pryr::address(y)) # the memory location of x is different from that of y. This shows x and y points to different objects.
```


```{r}
x = x + 1
x = 2 # rebind x to 2
pryr::address(x)
print(y)
pryr::address(y)
```


```{r}
x = list(1, 0, 1)
`[[<-`(x, 2, 100)
```

Values live until no references
```{r}
x = "hello"
x = "world" # Look inside global env. You cannot find the value "hello"
```


```{r}
nums = c(1, 0, 1)
other = nums
identical(pryr::address(nums), pryr::address(other))
```



```{r}
x = list(1, 0, 1)
y = x
identical(pryr::address(x), pryr::address(y))

pryr::address(x)


x[[2]] = 1
print(x)
print(y)        
identical(x, y)
```

Base R doesn't support mutable variables. 
Base R doesn't support mutable data structures. 

